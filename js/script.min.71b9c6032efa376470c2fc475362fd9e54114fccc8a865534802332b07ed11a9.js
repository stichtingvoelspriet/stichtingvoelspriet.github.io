var M=(function(m){'use strict';$('#logo + .title').click(function(){m.goTo(m.w.innerHeight());});m.w=$(window);m.b=$('html,body');m.bgs=$('.bg');m.bscroll=function(){m.b.css('overflow',m.bgs.is(':visible')?'hidden':'');};m.callDiv=$('.title:first');return m;})(M||{});;var M=(function(m){'use strict';var logo=$('#logo'),slants=$('.slant');function resizer(){var width=m.w.width(),height=Math.floor(width*0.02),blw='border-left-width';slants.each(function(i,slant){if($(slant).css(blw)!=='0px'){$(slant).css(blw,width+'px');$(slant).css('border-bottom-width',height+'px');}else{$(slant).css('border-right-width',width+'px');$(slant).css('border-bottom-width',height+'px');}});logo.height(m.w.innerHeight()-m.callDiv.height());}
m.w.resize(resizer);resizer();return m;})(M);;var M=(function(m){'use strict';var bg=$('#litebg'),box=$('#litebox'),img=$('#liteimg'),prev=$('#liteprev'),next=$('#litenext'),nowa,preva,nexta,tx,ty;function set(url){bg.toggle(!!url);box.toggle(!!url);m.bscroll();url&&img.attr('src','').attr('src',url.replace(/(\/upload\/)/,"$1w_"+m.w.width()+",h_"+m.w.height()+",c_limit/"));}
function click(a){nowa=$(a);prev.toggle(!!(preva=nowa.prev('a')[0]));next.toggle(!!(nexta=nowa.next('a')[0]));set(nowa.attr('href'));return false;}
box.click(function(){set('');});prev.click(function(){return click(preva);});next.click(function(){return click(nexta);});$('a[href$="jpg"]>img').click(function(){return click(this.parentNode);});document.onkeydown=function(e){if(e.keyCode===37){click(preva);}else if(e.keyCode===39){click(nexta);}};document.addEventListener('touchstart',function(e){var t=e.touches[0];tx=t.clientX;ty=t.clientY;});document.addEventListener('touchmove',function(e){if(!tx){return;}
var dx=tx-e.touches[0].clientX;if(Math.abs(dx)>Math.abs(ty-e.touches[0].clientY)){dx>0?click(nexta):click(preva);}
tx=ty=null;});return m;})(M||{});;var M=(function(m){'use strict';var menu=$('#menu');function toggledMenu(){return menu.css('position')==='fixed';}
function menuOffset(top){return toggledMenu()||m.isNavClear(top)?0:m.nav.height();}
function hideMenu(){m.nav.removeClass('show');}
function goTo(top){m.b.animate({scrollTop:top-menuOffset(top)});}
function topA(name){return $('#'+name).offset().top;}
$('a[href^="#"]',m.nav).click(function(){var name=$(this).attr('href').substr(1);if($(this).closest('#scribble').length){m.show(name);}else{goTo(topA(name));}
hideMenu();return false;});$('#toggle').click(function(){m.nav.toggleClass('show');return false;});m.b.click(hideMenu);m.menuOffset=menuOffset;m.goTo=goTo;m.topA=topA;return m;})(M);;var M=(function(m){'use strict';var nav=$('nav'),articles=$('article').get().reverse(),currentArticle,navClear=true;function isNavClear(top){return top===0;}
function setNavClear(top){if(isNavClear(top)!==navClear){navClear=!navClear;nav.toggleClass('top',navClear);nav.removeClass('show');}}
function setNavColor(top){var i,article,newArticle=currentArticle;for(i=0;i<articles.length;i++){article=articles[i];if(top>=$(article).offset().top-m.menuOffset()){newArticle=$(article).attr('class')+'-nav';break;}}
if(newArticle!==currentArticle){nav.addClass(newArticle);nav.removeClass(currentArticle);currentArticle=newArticle;}}
function scroller(){var top=m.w.scrollTop();setNavClear(top);setNavColor(top);}
m.w.scroll(scroller);m.nav=nav;m.isNavClear=isNavClear;scroller();return m;})(M);;var M=(function(m){'use strict';var projects=$('.project'),bg=$('#projectsbg'),on='fa-expand',off='fa-times';function toggle(project,show){if(show||project.hasClass('off')){projects.each(function(){var current=project.is(this);$(this).toggleClass('on',current).toggleClass('off',!current);$('.onoff',this).toggleClass(on,!current).toggleClass(off,current);});}else{project.removeClass('on').addClass('off').scrollTop(0);$('.onoff').addClass(on).removeClass(off);}
bg.toggle();m.bscroll();}
$('.onoff',projects).click(function(){toggle($(this).parent());});m.show=function(name){toggle($('#'+name),true);};return m;})(M);