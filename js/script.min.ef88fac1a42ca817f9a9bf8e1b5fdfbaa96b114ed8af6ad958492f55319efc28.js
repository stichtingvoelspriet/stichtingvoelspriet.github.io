var M=(function(m){'use strict';$('#logo + .title').click(function(){m.goTo(m.jwin.innerHeight());});m.jwin=$(window);m.callDiv=$('.title:first');return m;})(M||{});var M=(function(m){'use strict';var logo=$('#logo'),slants=$('.slant');function resizer(){var width=m.jwin.width(),height=Math.floor(width*0.05),blw='border-left-width';slants.each(function(i,slant){if($(slant).css(blw)!=='0px'){$(slant).css(blw,width+'px');$(slant).css('border-bottom-width',height+'px');}else{$(slant).css('border-right-width',width+'px');$(slant).css('border-bottom-width',height+'px');}});logo.height(m.jwin.innerHeight()-m.callDiv.height());}
m.jwin.resize(resizer);resizer();return m;})(M);var M=(function(m){'use strict';var bg=$('#litebg'),box=$('#litebox'),img=$('#liteimg'),prev=$('#liteprev'),next=$('#litenext'),nowa,preva,nexta;function set(url){bg.toggle(!!url);box.toggle(!!url);img.attr('src','').attr('src',url);}
function clr(){set('');}
function click(a){nowa=$(a);prev.toggle(!!(preva=nowa.prev('a')[0]));next.toggle(!!(nexta=nowa.next('a')[0]));set(nowa.attr('href'));return false;}
bg.click(clr);box.click(clr);prev.click(function(){return click(preva);});next.click(function(){return click(nexta);});$('a[href$="jpg"]>img').click(function(){return click(this.parentNode);});document.onkeydown=function(e){if(e.keyCode===37){click(preva);}else if(e.keyCode===39){click(nexta);}};return m;})(M||{});var M=(function(m){'use strict';var menu=$('#menu'),htmlBody=$('html,body');function toggledMenu(){return menu.css('position')==='fixed';}
function menuOffset(top){return toggledMenu()||m.isNavClear(top)?0:m.nav.height();}
function hideMenu(){m.nav.removeClass('show');}
function goTo(top){htmlBody.animate({scrollTop:top-menuOffset(top)});}
function topA(name){return $('#'+name).offset().top;}
$('a[href^="#"]',m.nav).click(function(){var name=$(this).attr('href').substr(1);if($(this).closest('#scribble').length){m.show(name);}else{goTo(topA(name));}
hideMenu();return false;});$('#toggle').click(function(){m.nav.toggleClass('show');return false;});htmlBody.click(hideMenu);m.menuOffset=menuOffset;m.goTo=goTo;m.topA=topA;return m;})(M);var M=(function(m){'use strict';var nav=$('#nav'),articles=$('article').get().reverse(),currentArticle,navClear=true;function isNavClear(top){return top<=m.callDiv.offset().top-nav.height();}
function setNavClear(top){if(isNavClear(top)!==navClear){navClear=!navClear;nav.toggleClass('top',navClear);}}
function setNavColor(top){var i,article,newArticle=currentArticle;for(i=0;i<articles.length;i++){article=articles[i];if(top>=$(article).offset().top-m.menuOffset()){newArticle=$(article).attr('class')+'-nav';break;}}
if(newArticle!==currentArticle){nav.addClass(newArticle);nav.removeClass(currentArticle);currentArticle=newArticle;}}
function scroller(){var top=m.jwin.scrollTop();setNavClear(top);setNavColor(top);}
m.jwin.scroll(scroller);m.nav=nav;m.isNavClear=isNavClear;scroller();return m;})(M);var M=(function(m){'use strict';var projects=$('.project');var foldedHeight=projects.height();function toggle(project,show){if(show||project.hasClass('off')){projects.each(function(){var current=project.is(this);$(this).toggleClass('off',!current).animate({height:current?this.scrollHeight:foldedHeight},current?function(){m.goTo(project.offset().top);$(this).css('height','auto');}:undefined);});}else{project.addClass('off').animate({height:foldedHeight},function(){m.goTo(m.topA('wat'));});}}
$('h1:first-child',projects).click(function(){toggle($(this).parent());});m.show=function(name){toggle($('#'+name),true);};return m;})(M);